"use strict";(self.webpackChunkqa_portal=self.webpackChunkqa_portal||[]).push([[612],{2612:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var i=t(5043),o=t(3216),a=t(8526),l=t(8144),d=t(3003),n=t(5475),r=t(6720),c=t(1462),p=t(9804),u=t(6789),x=t(49),v=t(6254),h=t(1126),m=t(579);const j=function(){const[e,s]=(0,i.useState)(!0),[t,j]=(0,i.useState)(""),[b,g]=(0,i.useState)(""),[f,y]=(0,i.useState)(""),[N,w]=(0,i.useState)(""),[C,S]=(0,i.useState)(!1),k=(0,o.g)();console.log("params",k),console.log("params");const _=(0,d.wA)(),A=(0,o.Zp)(),z=k.id;console.log(z);const R=(0,d.d4)((e=>e.TestDetailReducer.testDetail)),[F,D]=(0,i.useState)((null===R||void 0===R?void 0:R.name)||""),T=(0,d.d4)((e=>e.UserList.list)),[B,P]=(0,i.useState)("");return(0,i.useEffect)((()=>{_((0,l.T)(z)),_((0,a.a)())}),[]),(0,i.useEffect)((()=>{null!==R&&void 0!==R&&R.name&&D(R.name)}),[R]),(0,i.useEffect)((()=>{null!==R&&void 0!==R&&R.assigned&&P(R.assigned)}),[R]),(0,m.jsxs)("div",{className:"testDetail_page",children:[C&&(0,m.jsx)(h.A,{isOpen:C,title:"Add Reason For Change",onClose:function(){S(!1)},confirm:{text:"Confirm",onConfirm:async function(){var e=null===R||void 0===R?void 0:R.status,i=null===R||void 0===R?void 0:R.automation_status,o=null===R||void 0===R?void 0:R.priority,a=null===R||void 0===R?void 0:R.name,d=[];""!==t&&(e=t,d.push("Status")),""!==b&&(i=b,d.push("Automation Status")),""!==f&&(o=f,d.push("Priority")),F!==(null===R||void 0===R?void 0:R.name)&&(a=F,d.push("name"));try{if(d.length>0){const s=await x.A.patch(`core/testcase/${z}`,{name:a,status:e,automation_status:i,priority:o,history_change_reason:N});console.log(d),console.log(s)}if(B!==(null===R||void 0===R?void 0:R.assigned)){const e=await x.A.patch(`core/testcase/${z}`,{assigned:B,history_change_reason:N});console.log("response2",e)}}catch(n){console.log(n)}finally{_((0,l.T)(z)),_((0,v.E)(z)),s(!0),g(""),y(""),j(""),w(""),P(""),D(""),S(!1)}}},children:(0,m.jsx)("div",{className:"textarea",children:(0,m.jsx)("textarea",{spellCheck:!1,autoComplete:"off",type:"text",id:"inputField",name:"inputField",value:N,onChange:e=>w(e.target.value)})})}),(0,m.jsx)("div",{className:"test_detail",children:(0,m.jsxs)("div",{className:"inner_testdetail",children:[(0,m.jsx)("div",{className:"testcase-info-box",children:(0,m.jsxs)("div",{className:"test_case_name-and-info",children:[!1===e&&(0,m.jsx)("div",{className:"save-button",style:{position:"absolute",right:"10px",bottom:"10px",fontSize:"0.8vw",cursor:"pointer"},children:(0,m.jsx)(u.A,{size:"small",type:"primary",onClick:()=>S(!0),iconPosition:"left",children:"Save"})}),(0,m.jsxs)("div",{className:"testcase-name-status",children:[(0,m.jsxs)("div",{className:"navigate-edit",children:[(0,m.jsxs)("p",{onClick:()=>"performance"===k.type||"smoke"===k.type||"soak"===k.type?A(`/test-case/${k.type}`):A(`/test-plans/${k.type}`),children:[(0,m.jsx)(c.oBS,{style:{fontSize:"1rem"}})," Back"]}),(0,m.jsx)("p",{onClick:()=>s(!e),children:(0,m.jsx)(p.u6n,{style:{fontSize:"1vw"}})})]}),(0,m.jsxs)("div",{className:"name-id",children:[(0,m.jsx)("h2",{children:null===R||void 0===R?void 0:R.id}),e?(0,m.jsx)("h2",{children:null===R||void 0===R?void 0:R.name}):(0,m.jsx)("input",{type:"text",style:{width:"100%",padding:"5px"},value:F,onChange:e=>{D(e.target.value)}})]}),(0,m.jsxs)("div",{className:"st",children:[(0,m.jsx)("p",{style:{width:"40%",color:"#5d7290"},children:"Status"}),e?(0,m.jsx)("p",{style:{backgroundColor:"#ebf0f5",fontSize:"0.9vw",padding:"1px 6px",border:"1.5px solid #d7dee7",borderRadius:"4px",color:"#455365"},children:(e=>{switch(e){case"todo":return"To-Do";case"ongoing":return"On-Going";case"completed":return"Completed";default:return e}})(null===R||void 0===R?void 0:R.status)}):(0,m.jsx)("div",{className:"form-group-drop",children:(0,m.jsxs)("select",{id:"status",name:"status",value:t,onChange:e=>{j(e.target.value)},style:{outline:"none",border:"1.5px solid #d7dee7",padding:"1px 5px",borderRadius:"4px",transition:"border-color 0.3s, box-shadow 0.3s",fontSize:"0.9vw",color:"#525b6c",fontWeight:"500",backgroundColor:"#ebf0f5"},onFocus:e=>{e.target.style.border="1.5px solid #d7dee7",e.target.style.boxShadow="0 0 2px #d7dee7"},onBlur:e=>{e.target.style.border="1.5px solid #d7dee7",e.target.style.boxShadow="none"},children:[(0,m.jsx)("option",{value:"",disabled:!0,children:"Status"}),(0,m.jsx)("option",{value:"todo",children:"To Do"}),(0,m.jsx)("option",{value:"ongoing",children:"On Going"}),(0,m.jsx)("option",{value:"completed",children:"Completed"})]})})]}),(0,m.jsxs)("div",{className:"st",children:[(0,m.jsx)("p",{style:{width:"40%",color:"#5d7290"},children:"Automation Status"}),e?(0,m.jsx)("p",{style:{backgroundColor:"#ebf0f5",fontSize:"0.9vw",padding:"1px 6px",border:"1.5px solid #d7dee7",borderRadius:"4px",color:"#455365"},children:(e=>{switch(e){case"not-automatable":return"Not-Automatable";case"automatable":return"Automatable";case"in-development":return"In-Development";case"review":return"Review";case"ready":return"Ready";default:return e}})(null===R||void 0===R?void 0:R.automation_status)}):(0,m.jsx)("div",{className:"form-group-drop",children:(0,m.jsxs)("select",{id:"Automation",name:"Automation",value:b,onChange:e=>{g(e.target.value)},style:{outline:"none",border:"1.5px solid #d7dee7",padding:"1px 5px",borderRadius:"4px",transition:"border-color 0.3s, box-shadow 0.3s",fontSize:"0.9vw",color:"#525b6c",fontWeight:"500",backgroundColor:"#ebf0f5"},onFocus:e=>{e.target.style.border="1.5px solid #d7dee7",e.target.style.boxShadow="0 0 2px #d7dee7"},onBlur:e=>{e.target.style.border="1.5px solid #d7dee7",e.target.style.boxShadow="none"},children:[(0,m.jsx)("option",{value:"",disabled:!0,children:"Automation Status"}),(0,m.jsx)("option",{value:"not-automatable",children:"Not-Automatable"}),(0,m.jsx)("option",{value:"automatable",children:"Automatable"}),(0,m.jsx)("option",{value:"in-development",children:"In-Development"}),(0,m.jsx)("option",{value:"review",children:"Review"}),(0,m.jsx)("option",{value:"ready",children:"Ready"})]})})]}),(0,m.jsxs)("div",{className:"st",children:[(0,m.jsx)("p",{style:{width:"40%",color:"#5d7290"},children:"Priority"}),e?(0,m.jsxs)("p",{style:{backgroundColor:"#ebf0f5",fontSize:"0.9vw",padding:"2px 6px",border:"1.5px solid #d7dee7",borderRadius:"4px",color:"#455365",display:"flex",alignItems:"center",gap:"4px"},children:[" ",(0,m.jsx)(r.ekI,{style:{color:"class_1"===(null===R||void 0===R?void 0:R.priority)?"#FF8080":"class_2"===(null===R||void 0===R?void 0:R.priority)?"#FABC3F":"class_3"===(null===R||void 0===R?void 0:R.priority)?"green":"black",fontWeight:"900",fontSize:"1rem"}})," ",(0,m.jsx)("span",{style:{margin:"0px"},children:(e=>{switch(e){case"class_1":return"Class 1";case"class_2":return"Class 2";case"class_3":return"Class 3";default:return e}})(null===R||void 0===R?void 0:R.priority)})]}):(0,m.jsx)("div",{className:"form-group-drop",children:(0,m.jsxs)("select",{id:"priority",name:"priority",value:f,onChange:e=>{console.log("priority",e.target.value),y(e.target.value)},style:{outline:"none",border:"1.5px solid #d7dee7",padding:"1px 5px",borderRadius:"4px",transition:"border-color 0.3s, box-shadow 0.3s",fontSize:"0.9vw",color:"#525b6c",fontWeight:"500",backgroundColor:"#ebf0f5"},onFocus:e=>{e.target.style.border="1.5px solid #d7dee7",e.target.style.boxShadow="0 0 2px #d7dee7"},onBlur:e=>{e.target.style.border="1.5px solid #d7dee7",e.target.style.boxShadow="none"},children:[(0,m.jsx)("option",{value:"",disabled:!0,children:"Priority"}),(0,m.jsx)("option",{value:"class_1",children:"Class 1"}),(0,m.jsx)("option",{value:"class_2",children:"Class 2"}),(0,m.jsx)("option",{value:"class_3",children:"Class 3"})]})})]}),(0,m.jsxs)("div",{className:"st",children:[(0,m.jsx)("p",{style:{width:"40%",color:"#5d7290"},children:"TestCase Type"}),(0,m.jsx)("p",{style:{backgroundColor:"#ebf0f5",fontSize:"0.9vw",padding:"1px 6px",border:"1.5px solid #d7dee7",borderRadius:"4px",color:"#455365"},children:(null===R||void 0===R?void 0:R.testcase_type.charAt(0).toUpperCase())+(null===R||void 0===R?void 0:R.testcase_type.slice(1))})]})]}),(0,m.jsxs)("div",{className:"description",children:[(0,m.jsxs)("div",{className:"people",children:[(0,m.jsx)("p",{className:"name",children:"People"}),(0,m.jsxs)("div",{className:"role-section",children:[(0,m.jsxs)("div",{className:"stp",children:[(0,m.jsx)("p",{style:{width:"40%",color:"#5d7290"},children:"Assignee"}),e?(0,m.jsx)("p",{style:{backgroundColor:"#ebf0f5",fontSize:"0.9vw",padding:"1px 6px",border:"1.5px solid #d7dee7",borderRadius:"4px",color:"#455365"},children:(null===R||void 0===R?void 0:R.assigned)||"-"}):(0,m.jsx)("div",{className:"form-group-drop",children:(0,m.jsxs)("select",{id:"assignee",name:"assignee",value:B,onChange:e=>{P(e.target.value)},style:{outline:"none",border:"1.5px solid #d7dee7",padding:"1px 5px",borderRadius:"4px",fontSize:"0.9vw",color:"#525b6c",fontWeight:"500",backgroundColor:"#ebf0f5"},children:[(0,m.jsx)("option",{value:"",disabled:!0,children:"Select Assignee"}),T.map((e=>(0,m.jsx)("option",{value:e.email,children:e.email},e.email)))]})})]}),(0,m.jsxs)("div",{className:"stp",children:[(0,m.jsx)("p",{style:{width:"40%",color:"#6c809b",fontSize:"0.9vw"},children:"Reporter"}),(0,m.jsx)("p",{style:{width:"60%",color:"#425062",fontSize:"0.9vw"},children:null!==R&&void 0!==R&&R.created_by?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("span",{children:null===R||void 0===R?void 0:R.created_by})}):"-"})]})]})]}),(0,m.jsxs)("div",{className:"people",children:[(0,m.jsx)("p",{className:"name",children:"Dates"}),(0,m.jsxs)("div",{className:"role-section",children:[(0,m.jsxs)("div",{className:"stp",children:[(0,m.jsx)("p",{style:{width:"40%",color:"#6c809b",fontSize:"0.9vw"},children:"Created"}),(0,m.jsx)("p",{style:{width:"60%",color:"#425062",fontSize:"0.9vw"},children:null!==R&&void 0!==R&&R.created?null===R||void 0===R?void 0:R.created:null})]}),(0,m.jsxs)("div",{className:"stp",children:[(0,m.jsx)("p",{style:{width:"40%",color:"#6c809b",fontSize:"0.9vw"},children:"Modified"}),(0,m.jsx)("p",{style:{width:"60%",color:"#425062",fontSize:"0.9vw"},children:null!==R&&void 0!==R&&R.modified?null===R||void 0===R?void 0:R.modified:null})]})]})]})]})]})}),(0,m.jsxs)("div",{className:"tab-and-outlet",children:[(0,m.jsxs)("div",{className:"tab_for_test_case",children:[(0,m.jsx)("div",{className:"details tab",children:(0,m.jsx)("p",{children:(0,m.jsx)(n.k2,{className:"links",activeClassName:"active",to:"details",children:"Details"})})}),(0,m.jsx)("div",{className:"description_steps tab",children:(0,m.jsx)("p",{children:(0,m.jsx)(n.k2,{className:"links",activeClassName:"active",to:"description-step",children:"Test steps"})})}),"not-automatable"!==(null===R||void 0===R?void 0:R.automation_status)&&(0,m.jsx)("div",{className:"automation-script tab",children:(0,m.jsx)("p",{children:(0,m.jsx)(n.k2,{className:"links",activeClassName:"active",to:"automation-script",children:"Automation Script"})})}),(0,m.jsx)("div",{className:"test_group tab",children:(0,m.jsx)("p",{children:(0,m.jsx)(n.k2,{className:"links",activeClassName:"active",to:"test-group",children:"Test group"})})}),(0,m.jsx)("div",{className:"Last_50_run tab",children:(0,m.jsx)("p",{children:(0,m.jsx)(n.k2,{className:"links",activeClassName:"active",to:"last-run",children:"Last 50 run"})})}),(0,m.jsx)("div",{className:"linked_defects tab",children:(0,m.jsx)("p",{children:(0,m.jsx)(n.k2,{className:"links",activeClassName:"active",to:"defects",children:"Linked defects"})})}),"not-automatable"!==(null===R||void 0===R?void 0:R.automation_status)&&(0,m.jsx)("div",{className:"details tab",children:(0,m.jsx)("p",{children:(0,m.jsx)(n.k2,{className:"links",activeClassName:"active",to:"natco",children:"Natco"})})}),(0,m.jsx)("div",{className:"activities tab",children:(0,m.jsx)("p",{children:(0,m.jsx)(n.k2,{className:"links",activeClassName:"active",to:"activity",children:"Activity"})})})]}),(0,m.jsx)("div",{className:"display",children:(0,m.jsx)(o.sv,{})})]})]})})]})}}}]);
//# sourceMappingURL=612.afd42e5d.chunk.js.map